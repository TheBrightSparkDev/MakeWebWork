{% extends 'partials/sectionContainer.html' %}
{% load static %}
{% block section_content %}
<div class="row py-3 px-3">
  <div class="col-5-lg col-12">
    <div class="flip-card">
      <div class="flip-card-inner">
        <div class="flip-card-front">
          <img src="{{ section.imageURL.url }}" alt="Front">
        </div>
        <div class="flip-card-back">
          <img src="{{ section.imageTwoURL.url }}" alt="Back">
        </div>
      </div>
    </div>
  </div>

  <div class="col-5-lg col-12 ms-auto my-auto">
    <div class="section-container">
      <div class="section-wrapper sep-top sep-left {{ section.backgroundColor|default:project.backgroundColor }} {{ section.backgroundColorModifier|default:project.backgroundColorModifier }} op-3"></div>
      <div class="section-wrapper sep-bottom sep-right grey darken-4 op-3"></div>
      <div class="content {{ section.textColor|default:project.textColor }} {{ section.textColorModifier|default:project.textColorModifier }}">
        <h3>Purpose?</h3>
        <p>{{ section.shortDescription }}</p>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.flip-card').forEach(card => {
    const inner = card.querySelector('.flip-card-inner');

    card.addEventListener('mouseenter', () => {
      if (!card.classList.contains('flipped')) card.classList.add('tease');
    });

    card.addEventListener('animationend', () => {
      card.classList.remove('tease');
    });

    card.addEventListener('click', () => {
      card.classList.toggle('flipped');
      card.classList.remove('tease');
    });
  });
});
</script>
{% endblock %}
