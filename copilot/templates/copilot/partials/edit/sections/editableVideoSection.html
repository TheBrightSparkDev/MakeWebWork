{% extends 'copilot/partials/edit/editableSectionContainer.html' %}
{% load static %}

{% block section_content %}
<!-- Defines media limits for this section -->
<data maxMedia="1" minMedia="1"></data>

<div class="row py-3 px-3">
  <!-- Video preview -->
  <div class="col-12 col-lg-6">
    <div class="responsive-video-wrapper border rounded">
      {% with section.uploadedMedia.all|first as video %}
        {% if video and video.videoURL %}
          <video class="w-100" controls poster="{% static 'images/Makewebwork_logo.png' %}">
            <source src="{{ video.videoURL.url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        {% else %}
          <p>No video selected.</p>
        {% endif %}
      {% endwith %}
    </div>
    <div class="mt-2">
    <div class="mt-2">
      <label class="form-label">Video File</label>
      <button type="button" class="btn btn-outline-primary open-media-selector">Choose Video</button>
      <div id="selectedMediaPreview" class="mt-2 d-flex flex-wrap gap-2"></div>
    </div>
    </div>
  </div>

  <!-- Right side: Description block -->
  <div class="col-12 col-lg-6 my-auto">
    <div class="section-container">
      <div class="section-wrapper sep-top sep-left 
                  {{ section.backgroundColor|default:project.backgroundColor }} 
                  {{ section.backgroundColorModifier|default:project.backgroundColorModifier }} op-3"></div>

      <div class="section-wrapper sep-bottom sep-right grey darken-4 op-3"></div>

      <div class="content 
                  {{ section.textColor|default:project.textColor }} 
                  {{ section.textColorModifier|default:project.textColorModifier }}">
        <h3 class="{{ section.titleColor|default:project.titleColor }} {{ section.titleTextColorModifier|default:project.titleTextColorModifier }}">Purpose?</h3>
        <textarea name="shortDescription" class="form-control" rows="4" placeholder="Write the purpose here...">{{ section.shortDescription }}</textarea>
      </div>
    </div>
  </div>
</div>
{% endblock %}
